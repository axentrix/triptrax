(globalThis["webpackChunktrax_pwa"]=globalThis["webpackChunktrax_pwa"]||[]).push([[669],{8326:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});a(69665);var s=a(59835),n=a(60499),o=a(65987),r=a(91384),l=a(17026),i=a(22026),c=a(95439),u=a(52046);const d=(0,o.L)({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:a}){const o=(0,s.FN)(),d=(0,n.iH)(null);let m=0;const p=[];function f(t){const s="boolean"===typeof t?t:!0!==e.noErrorFocus,n=++m,o=(e,t)=>{a("validation"+(!0===e?"Success":"Error"),t)},r=e=>{const t=e.validate();return"function"===typeof t.then?t.then((t=>({valid:t,comp:e})),(t=>({valid:!1,comp:e,err:t}))):Promise.resolve({valid:t,comp:e})},l=!0===e.greedy?Promise.all(p.map(r)).then((e=>e.filter((e=>!0!==e.valid)))):p.reduce(((e,t)=>e.then((()=>r(t).then((e=>{if(!1===e.valid)return Promise.reject(e)}))))),Promise.resolve()).catch((e=>[e]));return l.then((e=>{if(void 0===e||0===e.length)return n===m&&o(!0),!0;if(n===m){const{comp:t,err:a}=e[0];if(void 0!==a&&console.error(a),o(!1,t),!0===s){const t=e.find((({comp:e})=>"function"===typeof e.focus&&!1===(0,u.$D)(e.$)));void 0!==t&&t.comp.focus()}}return!1}))}function h(){m++,p.forEach((e=>{"function"===typeof e.resetValidation&&e.resetValidation()}))}function g(t){void 0!==t&&(0,r.NS)(t);const s=m+1;f().then((n=>{s===m&&!0===n&&(void 0!==e.onSubmit?a("submit",t):void 0!==t&&void 0!==t.target&&"function"===typeof t.target.submit&&t.target.submit())}))}function v(t){void 0!==t&&(0,r.NS)(t),a("reset"),(0,s.Y3)((()=>{h(),!0===e.autofocus&&!0!==e.noResetFocus&&y()}))}function y(){(0,l.jd)((()=>{if(null===d.value)return;const e=d.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||d.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||d.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(d.value.querySelectorAll("[tabindex]"),(e=>e.tabIndex>-1));null!==e&&void 0!==e&&e.focus({preventScroll:!0})}))}(0,s.JJ)(c.vh,{bindComponent(e){p.push(e)},unbindComponent(e){const t=p.indexOf(e);t>-1&&p.splice(t,1)}});let b=!1;return(0,s.se)((()=>{b=!0})),(0,s.dl)((()=>{!0===b&&!0===e.autofocus&&y()})),(0,s.bv)((()=>{!0===e.autofocus&&y()})),Object.assign(o.proxy,{validate:f,resetValidation:h,submit:g,reset:v,focus:y,getValidationComponents:()=>p}),()=>(0,s.h)("form",{class:"q-form",ref:d,onSubmit:g,onReset:v},(0,i.KR)(t.default))}})},69885:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var s=a(59835),n=a(65987),o=a(22026),r=a(95439);const l=(0,n.L)({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:a}}=(0,s.FN)(),n=(0,s.f3)(r.YE,r.qO);if(n===r.qO)return console.error("QPage needs to be a deep child of QLayout"),r.qO;const l=(0,s.f3)(r.Mw,r.qO);if(l===r.qO)return console.error("QPage needs to be child of QPageContainer"),r.qO;const i=(0,s.Fl)((()=>{const t=(!0===n.header.space?n.header.size:0)+(!0===n.footer.space?n.footer.size:0);if("function"===typeof e.styleFn){const s=!0===n.isContainer.value?n.containerHeight.value:a.screen.height;return e.styleFn(t,s)}return{minHeight:!0===n.isContainer.value?n.containerHeight.value-t+"px":0===a.screen.height?0!==t?`calc(100vh - ${t}px)`:"100vh":a.screen.height-t+"px"}})),c=(0,s.Fl)((()=>"q-page"+(!0===e.padding?" q-layout-padding":"")));return()=>(0,s.h)("main",{class:c.value,style:i.value},(0,o.KR)(t.default))}})},40022:(e,t,a)=>{"use strict";a.d(t,{H:()=>n});var s=a(81809);const n=(0,s.Q_)("notificationMessageStore",{state:()=>({messages:{}}),actions:{addMessage(e,t,a){this.messages[e]={message:t,color:a}},hasMessage(e){return e in this.messages&&"message"in this.messages[e]},popMessage(e){if(this.hasMessage(e)){const t=this.messages[e];return delete this.messages[e],t}return null}}})},8658:(e,t,a)=>{"use strict";a.d(t,{x:()=>o});a(93705);const s="FREE",n="PAID",o=[{value:s,label:"Free Plan"},{value:n,label:"Paid Plan"}]},3083:(e,t,a)=>{var s,n;
/*!
  * $script.js JS loader & dependency manager
  * https://github.com/ded/script.js
  * (c) Dustin Diaz 2014 | License MIT
  */(function(o,r){e.exports?e.exports=r():(s=r,n="function"===typeof s?s.call(t,a,t,e):s,void 0===n||(e.exports=n))})(0,(function(){var e,t,a=document,s=a.getElementsByTagName("head")[0],n=!1,o="push",r="readyState",l="onreadystatechange",i={},c={},u={},d={};function m(e,t){for(var a=0,s=e.length;a<s;++a)if(!t(e[a]))return n;return 1}function p(e,t){m(e,(function(e){return t(e),1}))}function f(t,a,s){t=t[o]?t:[t];var n=a&&a.call,r=n?a:s,l=n?t.join(""):a,g=t.length;function v(e){return e.call?e():i[e]}function y(){if(!--g)for(var e in i[l]=1,r&&r(),u)m(e.split("|"),v)&&!p(u[e],v)&&(u[e]=[])}return setTimeout((function(){p(t,(function t(a,s){return null===a?y():(s||/^https?:\/\//.test(a)||!e||(a=-1===a.indexOf(".js")?e+a+".js":e+a),d[a]?(l&&(c[l]=1),2==d[a]?y():setTimeout((function(){t(a,!0)}),0)):(d[a]=1,l&&(c[l]=1),void h(a,y)))}))}),0),f}function h(e,n){var o,i=a.createElement("script");i.onload=i.onerror=i[l]=function(){i[r]&&!/^c|loade/.test(i[r])||o||(i.onload=i[l]=null,o=1,d[e]=2,n())},i.async=1,i.src=t?e+(-1===e.indexOf("?")?"?":"&")+t:e,s.insertBefore(i,s.lastChild)}return f.get=h,f.order=function(e,t,a){(function s(n){n=e.shift(),e.length?f(n,s):f(n,t,a)})()},f.path=function(t){e=t},f.urlArgs=function(e){t=e},f.ready=function(e,t,a){e=e[o]?e:[e];var s=[];return!p(e,(function(e){i[e]||s[o](e)}))&&m(e,(function(e){return i[e]}))?t():function(e){u[e]=u[e]||[],u[e][o](t),a&&a(s)}(e.join("|")),f},f.done=function(e){f([null],e)},f}))},60037:(e,t,a)=>{"use strict";a.d(t,{Z:()=>b});var s=a(59835);const n={class:"q-ma-md"},o=(0,s._)("div",{id:"google-recaptcha"},null,-1),r={key:0,class:"q-field__bottom row items-start"},l=(0,s._)("div",{class:"q-field__messages col q-mt-xs"},[(0,s._)("div",{class:"text-negative"}," Please complete the captcha.")],-1),i=[l];function c(e,t,a,l,c,u){return(0,s.wg)(),(0,s.iD)("div",n,[o,l.notVerified?((0,s.wg)(),(0,s.iD)("div",r,i)):(0,s.kq)("",!0)])}var u=a(3083),d=a.n(u),m=a(60499);const p={name:"GRecaptcha",props:{modelValue:String},event:["update:modelValue"],setup(e,{emit:t}){const a=(0,m.iH)(!1),s=(0,m.iH)(null);return{notVerified:a,grInstance:s,verifyRecaptcha:e=>{a.value=!1,t("update:modelValue",e)}}},mounted(){d()("https://www.google.com/recaptcha/api.js?render=explicit",(()=>{const e=()=>{"render"in grecaptcha?(this.grInstance=grecaptcha.render("google-recaptcha",{sitekey:"6LcnG40nAAAAAEmQdXO7SYHnRL6dohLtOoWB_rIF",callback:this.verifyRecaptcha,"expired-callback":()=>{console.log("grecaptcha expired"),this.grInstance.reset(),this.notVerified=!0}}),console.log(this.grInstance)):setTimeout(e,100)};e()}))},methods:{isInValid(){this.notVerified=!0,grecaptcha.reset(this.grInstance)},reset(){this.notVerified=!1,grecaptcha.reset(this.grInstance)}}};var f=a(11639),h=a(18149),g=a(69984),v=a.n(g);const y=(0,f.Z)(p,[["render",c]]),b=y;v()(p,"components",{QField:h.Z})},92669:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>M});var s=a(59835);const n={class:"row q-mb-lg q-mt-md"},o={class:"col-2"},r=(0,s._)("i",{class:"material-icons",style:{"font-size":"48px","margin-left":"5%",color:"black"}},"keyboard_arrow_left",-1),l=(0,s._)("div",{class:"col-8"},[(0,s._)("p",{class:"signup-header q-mt-md"},"Sign up to TripTrax")],-1),i=(0,s._)("div",{class:"col-2"},null,-1),c={class:"q-pa-md register-form"},u={class:"flex row justify-between"},d=(0,s._)("p",{class:"terms q-mt-lg flex"},[(0,s.Uk)(" By signing up, I accept the TripTrax "),(0,s._)("a",{href:"#",class:"q-mx-xs"},"Terms of Service"),(0,s.Uk)(" and acknowledge the "),(0,s._)("a",{href:"#",class:"q-mx-xs"}," Privacy Policy.")],-1),m=(0,s._)("p",{class:"terms q-mt-lg",style:{"text-align":"center"}},[(0,s.Uk)(" Already have an account? "),(0,s._)("a",{href:"/login",class:"q-mx-xs"},"Login")],-1);function p(e,t,a,p,f,h){const g=(0,s.up)("router-link"),v=(0,s.up)("q-input"),y=(0,s.up)("q-icon"),b=(0,s.up)("q-select"),w=(0,s.up)("g-recaptcha"),x=(0,s.up)("q-btn"),S=(0,s.up)("q-card-actions"),V=(0,s.up)("q-form"),P=(0,s.up)("q-page");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",n,[(0,s._)("div",o,[(0,s.Wm)(g,{to:"/login"},{default:(0,s.w5)((()=>[r])),_:1})]),l,i]),(0,s.Wm)(P,{class:"flex justify-center"},{default:(0,s.w5)((()=>[(0,s._)("div",c,[(0,s.Wm)(V,{ref:"regForm",onSubmit:p.onSubmit,onReset:p.onReset,class:"fit"},{default:(0,s.w5)((()=>[(0,s._)("div",u,[(0,s.Wm)(v,{style:{width:"48%"},borderless:"",modelValue:p.formState.firstname,"onUpdate:modelValue":t[0]||(t[0]=e=>p.formState.firstname=e),label:"First Name *","lazy-rules":"",rules:[e=>e&&e.length>0||"Please enter your First Name",e=>p.isMaxLength(e,"First Name",150)]},null,8,["modelValue","rules"]),(0,s.Wm)(v,{style:{width:"48%"},borderless:"",modelValue:p.formState.lastname,"onUpdate:modelValue":t[1]||(t[1]=e=>p.formState.lastname=e),label:"Last Name *","lazy-rules":"",rules:[e=>e&&e.length>0||" Please enter your Last Name",e=>p.isMaxLength(e,"Last Name",150)]},null,8,["modelValue","rules"])]),(0,s.Wm)(v,{borderless:"",modelValue:p.formState.username,"onUpdate:modelValue":t[2]||(t[2]=e=>p.formState.username=e),label:"Username *","lazy-rules":"",rules:[e=>e&&e.length>0||"Please enter your Username",e=>p.isMaxLength(e,"Username",30),e=>p.onlyAplhaNumric(e,"Username")]},null,8,["modelValue","rules"]),(0,s.Wm)(v,{borderless:"",type:"email",modelValue:p.formState.email,"onUpdate:modelValue":t[3]||(t[3]=e=>p.formState.email=e),label:"Email *","lazy-rules":"",rules:[e=>e&&e.length>0||"Please enter your Email",e=>p.isValidEmail(e)]},null,8,["modelValue","rules"]),(0,s.Wm)(v,{borderless:"",modelValue:p.formState.password,"onUpdate:modelValue":t[5]||(t[5]=e=>p.formState.password=e),label:"Password *",type:p.isPwd?"password":"text","lazy-rules":"",rules:[e=>e&&e.length>0||"Please enter your Password",e=>p.isMinLength(e,"Password",8),e=>p.isMaxLength(e,"Password",24)],autocomplete:"current-password"},{append:(0,s.w5)((()=>[(0,s.Wm)(y,{name:p.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[4]||(t[4]=e=>p.isPwd=!p.isPwd)},null,8,["name"])])),_:1},8,["modelValue","type","rules"]),(0,s.Wm)(v,{borderless:"",modelValue:p.formState.confirm_password,"onUpdate:modelValue":t[7]||(t[7]=e=>p.formState.confirm_password=e),label:"Confirm Password *",type:p.isPwd?"password":"text","lazy-rules":"",rules:[e=>e&&e===p.formState.password||"Your Passwords do not Match"],autocomplete:"current-password"},{append:(0,s.w5)((()=>[(0,s.Wm)(y,{name:p.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[6]||(t[6]=e=>p.isPwd=!p.isPwd)},null,8,["name"])])),_:1},8,["modelValue","type","rules"]),(0,s.Wm)(b,{borderless:"",modelValue:p.formState.plan,"onUpdate:modelValue":t[8]||(t[8]=e=>p.formState.plan=e),options:p.options,label:"Plan *"},null,8,["modelValue","options"]),d,(0,s.Wm)(w,{modelValue:p.formState.grecaptcha,"onUpdate:modelValue":t[9]||(t[9]=e=>p.formState.grecaptcha=e),ref:"grecaptcha"},null,8,["modelValue"]),(0,s.Wm)(S,null,{default:(0,s.w5)((()=>[(0,s.Wm)(x,{label:"Sign Up",type:"submit",class:"primary-btn q-mt-md",style:{width:"100%",padding:"0px"},"no-caps":""})])),_:1}),m])),_:1},8,["onSubmit","onReset"])])])),_:1})])}a(69665);var f=a(19302),h=a(60499),g=a(90501),v=a(28339),y=a(8658),b=a(74440),w=a(40022),x=(a(3083),a(60037));const S={components:{GRecaptcha:x.Z},setup(){const e=(0,f.Z)(),t=(0,v.tv)(),a=(0,g.M)(),n=(0,w.H)(),o=(0,h.iH)(null),r=(0,h.qj)({username:"",password:"",confirm_password:"",firstname:"",lastname:"",email:"",plan:"FREE",grecaptcha:null,grecaptchaError:!1}),l=()=>{r.firstname="",r.lastname="",r.email="",r.username="",r.password="",r.confirm_password="",r.plan="FREE",r.grecaptcha=null,r.grecaptchaError=!1};return(0,s.Jd)((()=>{l(),e.loading.hide()})),a.isAuthenticated&&t.push({name:"Home"}),{grecaptcha:o,formState:r,isPwd:(0,h.iH)(!0),options:y.x,onSubmit(){r.grecaptcha?(e.loading.show({message:"Please wait..."}),b.Z.userRegister({...r}).then((e=>{o.value.reset(),n.addMessage("Login",e.data.message,"secondary"),t.push({name:"Login"})})).catch((t=>{o.value.reset(),t.response&&400===t.response.status&&t.response.data.message?e.notify({message:t.response.data.message,color:"negative"}):e.notify({message:"Unexpected error happened. Please try again later.",color:"negative"}),e.loading.hide()}))):o.value.isInValid()},onReset(){l(),o.value.reset(),t.push({name:"Login"})},isMinLength(e,t,a){return e.length>=a||`${t} should not be less than ${a} characters.`},isMaxLength(e,t,a){return e.length<a||`${t} should not be more than ${a} characters.`},onlyAplhaNumric(e,t){return e.match(/^[a-zA-Z0-9\.\-_]+$/)||`${t} should contain only letters, numbers, period, dash, and underscore.`},isValidEmail(e){return/\S+@\S+\.\S+/.test(e)||`${e} is not a valid email.`}}}};var V=a(11639),P=a(69885),_=a(8326),q=a(66611),F=a(22857),E=a(4581),L=a(11821),k=a(68879),R=a(18149),Z=a(69984),Q=a.n(Z);const U=(0,V.Z)(S,[["render",p]]),M=U;Q()(S,"components",{QPage:P.Z,QForm:_.Z,QInput:q.Z,QIcon:F.Z,QSelect:E.Z,QCardActions:L.Z,QBtn:k.Z,QField:R.Z})}}]);